<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/styles/forgot-password.css">
    <title>Invalid Login Attempt</title>
</head>

<body>
    <div class="message">
       <p>Invalid email or password. Try again.</p>
       <a href='/login'>Try again</a>
    </div>
    <img id="susImage" src="/images/sus.png" style="display:none; width: 300px; position: absolute; top: 30%; left: 50%; transform: translate(-50%, -50%);" alt="Suspicious">

    <script>
        // Check and update sessionStorage for login attempts
        let attempts = sessionStorage.getItem('loginAttempts') ? parseInt(sessionStorage.getItem('loginAttempts'), 10) : 0;
        console.log("Current attempts: " + attempts); // Debugging line
        attempts++;
        sessionStorage.setItem('loginAttempts', attempts);

        // Display the image if it's the third invalid attempt
        if (attempts >= 3) {
            document.getElementById('susImage').style.display = 'block';
            sessionStorage.setItem('loginAttempts', 0); // Reset attempts after displaying the image
        }
        console.log("Updated attempts: " + sessionStorage.getItem('loginAttempts')); // Debugging line
    </script>
</body>

</html>
